<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>AI Hub - Face-Det-Lite</title>
    <style>
        #img-container, #tpi-container {
            text-align: center;
        }
    </style>
</head>

<body>
    <div id="img-container">
        <img src="#" id="img">
    </div>

    <script>
        const socket = new WebSocket(location.protocol + '//' + location.host + '/ws');
        socket.onopen = () => console.log('onopen');
        socket.onmessage = msg => {
            const data = JSON.parse(msg.data);
            if (data.type === 'image' && data.dataUrl) {
                document.querySelector('#img').src = data.dataUrl;
            }
            else {
                console.warn('Failed to handle', data);
            }
        };
    </script>
</body>
</html>
